{"ast":null,"code":"import React,{useState}from'react';import'./ContactForm.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ContactForm=()=>{const[formData,setFormData]=useState({senderEmail:'',message:'',file:null});const[fileName,setFileName]=useState('');const[successMessage,setSuccessMessage]=useState('');const[errorMessage,setErrorMessage]=useState('');const[isLoading,setIsLoading]=useState(false);const handleChange=e=>{setFormData({...formData,[e.target.name]:e.target.value});};const handleFileChange=e=>{const file=e.target.files[0];setFormData({...formData,file});setFileName(file?file.name:'');};const handleSubmit=async e=>{e.preventDefault();setSuccessMessage('');setErrorMessage('');setIsLoading(true);const data=new FormData();data.append('senderEmail',formData.senderEmail);data.append('message',formData.message);if(formData.file)data.append('file',formData.file);try{const response=await fetch('/api/send-email',{method:'POST',body:data});const result=await response.json();if(response.ok){setSuccessMessage(result.message);setFormData({senderEmail:'',message:'',file:null});setFileName('');}else{setErrorMessage(result.message);}}catch(error){setErrorMessage('Failed to send form. '+error.message);}finally{setIsLoading(false);}};return/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"contact-form\",encType:\"multipart/form-data\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Send Email\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",name:\"senderEmail\",value:formData.senderEmail,onChange:handleChange,placeholder:\"Your Email\",required:true}),/*#__PURE__*/_jsx(\"textarea\",{name:\"message\",value:formData.message,onChange:handleChange,placeholder:\"Your Message\",required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",name:\"file\",onChange:handleFileChange}),fileName&&/*#__PURE__*/_jsxs(\"p\",{children:[\"Selected File: \",fileName]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:isLoading,children:isLoading?'Sending...':'Send'}),successMessage&&/*#__PURE__*/_jsx(\"p\",{style:{color:'green'},children:successMessage}),errorMessage&&/*#__PURE__*/_jsx(\"p\",{style:{color:'red'},children:errorMessage})]});};export default ContactForm;","map":{"version":3,"names":["React","useState","jsx","_jsx","jsxs","_jsxs","ContactForm","formData","setFormData","senderEmail","message","file","fileName","setFileName","successMessage","setSuccessMessage","errorMessage","setErrorMessage","isLoading","setIsLoading","handleChange","e","target","name","value","handleFileChange","files","handleSubmit","preventDefault","data","FormData","append","response","fetch","method","body","result","json","ok","error","onSubmit","className","encType","children","type","onChange","placeholder","required","disabled","style","color"],"sources":["C:/4th sem Intership/react-course/react-portfolio-blue/src/pages/ContactForm.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport './ContactForm.css';\r\n\r\nconst ContactForm = () => {\r\n  const [formData, setFormData] = useState({\r\n    senderEmail: '',\r\n    message: '',\r\n    file: null,\r\n  });\r\n  const [fileName, setFileName] = useState('');\r\n  const [successMessage, setSuccessMessage] = useState('');\r\n  const [errorMessage, setErrorMessage] = useState('');\r\n  const [isLoading, setIsLoading] = useState(false);\r\n\r\n  const handleChange = (e) => {\r\n    setFormData({ ...formData, [e.target.name]: e.target.value });\r\n  };\r\n\r\n  const handleFileChange = (e) => {\r\n    const file = e.target.files[0];\r\n    setFormData({ ...formData, file });\r\n    setFileName(file ? file.name : '');\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n\r\n    setSuccessMessage('');\r\n    setErrorMessage('');\r\n    setIsLoading(true);\r\n\r\n    const data = new FormData();\r\n    data.append('senderEmail', formData.senderEmail);\r\n    data.append('message', formData.message);\r\n    if (formData.file) data.append('file', formData.file);\r\n\r\n    try {\r\n      const response = await fetch('/api/send-email',\r\n        {\r\n          method: 'POST',\r\n          body: data,\r\n        }\r\n      );\r\n\r\n      const result = await response.json();\r\n      if (response.ok) {\r\n        setSuccessMessage(result.message);\r\n        setFormData({ senderEmail: '', message: '', file: null });\r\n        setFileName('');\r\n      } else {\r\n        setErrorMessage(result.message);\r\n      }\r\n    } catch (error) {\r\n      setErrorMessage('Failed to send form. ' + error.message);\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <form onSubmit={handleSubmit} className=\"contact-form\" encType=\"multipart/form-data\">\r\n      <h2>Send Email</h2>\r\n      <input\r\n        type=\"email\"\r\n        name=\"senderEmail\"\r\n        value={formData.senderEmail}\r\n        onChange={handleChange}\r\n        placeholder=\"Your Email\"\r\n        required\r\n      />\r\n      <textarea\r\n        name=\"message\"\r\n        value={formData.message}\r\n        onChange={handleChange}\r\n        placeholder=\"Your Message\"\r\n        required\r\n      />\r\n      <input type=\"file\" name=\"file\" onChange={handleFileChange} />\r\n      {fileName && <p>Selected File: {fileName}</p>}\r\n      <button type=\"submit\" disabled={isLoading}>\r\n        {isLoading ? 'Sending...' : 'Send'}\r\n      </button>\r\n      {successMessage && <p style={{ color: 'green' }}>{successMessage}</p>}\r\n      {errorMessage && <p style={{ color: 'red' }}>{errorMessage}</p>}\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default ContactForm;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}