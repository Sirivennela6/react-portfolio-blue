{"ast":null,"code":"const handleSubmit = async e => {\n  e.preventDefault();\n  setSuccessMessage('');\n  setErrorMessage('');\n  setIsLoading(true);\n  const data = new FormData();\n  data.append('senderEmail', formData.senderEmail);\n  data.append('message', formData.message);\n  if (formData.file) data.append('file', formData.file);\n  try {\n    const response = await fetch('/api/send-email', {\n      method: 'POST',\n      body: data\n    });\n    const contentType = response.headers.get('content-type');\n    const result = contentType && contentType.includes('application/json') ? await response.json() : {\n      message: 'Unexpected server error'\n    };\n    if (response.ok) {\n      setSuccessMessage(result.message);\n      setFormData({\n        senderEmail: '',\n        message: '',\n        file: null\n      });\n      setFileName('');\n    } else {\n      setErrorMessage(result.message || 'Something went wrong.');\n    }\n  } catch (error) {\n    setErrorMessage('Failed to send form. ' + error.message);\n  } finally {\n    setIsLoading(false);\n  }\n};","map":{"version":3,"names":["handleSubmit","e","preventDefault","setSuccessMessage","setErrorMessage","setIsLoading","data","FormData","append","formData","senderEmail","message","file","response","fetch","method","body","contentType","headers","get","result","includes","json","ok","setFormData","setFileName","error"],"sources":["C:/4th sem Intership/react-course/react-portfolio-blue/src/pages/ContactForm.js"],"sourcesContent":["const handleSubmit = async (e) => {\r\n  e.preventDefault();\r\n\r\n  setSuccessMessage('');\r\n  setErrorMessage('');\r\n  setIsLoading(true);\r\n\r\n  const data = new FormData();\r\n  data.append('senderEmail', formData.senderEmail);\r\n  data.append('message', formData.message);\r\n  if (formData.file) data.append('file', formData.file);\r\n\r\n  try {\r\n    const response = await fetch('/api/send-email', {\r\n      method: 'POST',\r\n      body: data,\r\n    });\r\n\r\n    const contentType = response.headers.get('content-type');\r\n    const result = contentType && contentType.includes('application/json')\r\n      ? await response.json()\r\n      : { message: 'Unexpected server error' };\r\n\r\n    if (response.ok) {\r\n      setSuccessMessage(result.message);\r\n      setFormData({ senderEmail: '', message: '', file: null });\r\n      setFileName('');\r\n    } else {\r\n      setErrorMessage(result.message || 'Something went wrong.');\r\n    }\r\n  } catch (error) {\r\n    setErrorMessage('Failed to send form. ' + error.message);\r\n  } finally {\r\n    setIsLoading(false);\r\n  }\r\n};\r\n"],"mappings":"AAAA,MAAMA,YAAY,GAAG,MAAOC,CAAC,IAAK;EAChCA,CAAC,CAACC,cAAc,CAAC,CAAC;EAElBC,iBAAiB,CAAC,EAAE,CAAC;EACrBC,eAAe,CAAC,EAAE,CAAC;EACnBC,YAAY,CAAC,IAAI,CAAC;EAElB,MAAMC,IAAI,GAAG,IAAIC,QAAQ,CAAC,CAAC;EAC3BD,IAAI,CAACE,MAAM,CAAC,aAAa,EAAEC,QAAQ,CAACC,WAAW,CAAC;EAChDJ,IAAI,CAACE,MAAM,CAAC,SAAS,EAAEC,QAAQ,CAACE,OAAO,CAAC;EACxC,IAAIF,QAAQ,CAACG,IAAI,EAAEN,IAAI,CAACE,MAAM,CAAC,MAAM,EAAEC,QAAQ,CAACG,IAAI,CAAC;EAErD,IAAI;IACF,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAC,iBAAiB,EAAE;MAC9CC,MAAM,EAAE,MAAM;MACdC,IAAI,EAAEV;IACR,CAAC,CAAC;IAEF,MAAMW,WAAW,GAAGJ,QAAQ,CAACK,OAAO,CAACC,GAAG,CAAC,cAAc,CAAC;IACxD,MAAMC,MAAM,GAAGH,WAAW,IAAIA,WAAW,CAACI,QAAQ,CAAC,kBAAkB,CAAC,GAClE,MAAMR,QAAQ,CAACS,IAAI,CAAC,CAAC,GACrB;MAAEX,OAAO,EAAE;IAA0B,CAAC;IAE1C,IAAIE,QAAQ,CAACU,EAAE,EAAE;MACfpB,iBAAiB,CAACiB,MAAM,CAACT,OAAO,CAAC;MACjCa,WAAW,CAAC;QAAEd,WAAW,EAAE,EAAE;QAAEC,OAAO,EAAE,EAAE;QAAEC,IAAI,EAAE;MAAK,CAAC,CAAC;MACzDa,WAAW,CAAC,EAAE,CAAC;IACjB,CAAC,MAAM;MACLrB,eAAe,CAACgB,MAAM,CAACT,OAAO,IAAI,uBAAuB,CAAC;IAC5D;EACF,CAAC,CAAC,OAAOe,KAAK,EAAE;IACdtB,eAAe,CAAC,uBAAuB,GAAGsB,KAAK,CAACf,OAAO,CAAC;EAC1D,CAAC,SAAS;IACRN,YAAY,CAAC,KAAK,CAAC;EACrB;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}